---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Claudia — The senior dev you don't have">

  <!-- ===================== HERO ===================== -->
  <section class="relative min-h-screen flex items-center overflow-hidden pt-14">
    <div class="absolute top-1/4 right-0 w-[600px] h-[600px] bg-vermillion/[0.07] rounded-full blur-[120px] pointer-events-none"></div>

    <div class="max-w-7xl mx-auto px-6 w-full">
      <div class="grid lg:grid-cols-[1.1fr_0.9fr] gap-16 lg:gap-20 items-center">
        <div>
          <div class="reveal">
            <p class="font-mono text-xs text-vermillion tracking-widest uppercase mb-6">Free Claude Code Plugin</p>
          </div>
          <h1 class="reveal reveal-delay-1 text-5xl sm:text-6xl lg:text-7xl font-extrabold leading-[0.95] tracking-[-0.035em]">
            The senior dev<br />you don't<br />
            <span class="text-vermillion">have</span>
          </h1>
          <p class="reveal reveal-delay-2 mt-8 text-lg sm:text-xl text-paper/50 leading-relaxed max-w-md font-light">
            You prompt. Claude codes. Claudia makes sure it's actually good — catching security holes, picking the right tools, and turning vague ideas into precise instructions.
          </p>

          <!-- Install -->
          <div class="reveal reveal-delay-3 mt-10">
            <div class="inline-flex items-center gap-3 bg-white/[0.04] border border-white/[0.08] rounded-xl px-5 py-3.5">
              <code id="install-cmd" class="text-sm font-mono text-paper/80 select-all">npm i -g claudia-mentor</code>
              <button
                id="copy-btn"
                aria-label="Copy install command"
                class="p-1 rounded text-paper/30 hover:text-vermillion transition-colors cursor-pointer"
              >
                <svg class="w-4 h-4" id="copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                </svg>
                <svg class="w-4 h-4 hidden" id="check-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
              </button>
            </div>
          </div>

          <div class="reveal reveal-delay-4 mt-6 flex items-center gap-5">
            <a
              href="https://github.com/reganomalley/claudia"
              target="_blank"
              rel="noopener noreferrer"
              class="text-sm text-paper/40 hover:text-paper transition-colors"
            >
              View source
            </a>
            <span class="text-paper/10">|</span>
            <a href="/docs" class="text-sm text-paper/40 hover:text-paper transition-colors">
              How it works
            </a>
          </div>
        </div>

        <!-- Hero image -->
        <div class="reveal reveal-delay-2 relative">
          <div class="relative rounded-2xl overflow-hidden">
            <img
              src="/assets/hero-wide.jpeg"
              alt="Claudia"
              class="w-full h-auto parallax-img"
              loading="eager"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-void/60 via-transparent to-transparent"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== NUMBERS STRIP ===================== -->
  <section class="border-y border-white/[0.06] bg-white/[0.015]">
    <div class="max-w-7xl mx-auto px-6 py-10 grid grid-cols-3 gap-8">
      <div class="reveal text-center">
        <span class="block text-3xl sm:text-4xl font-extrabold tracking-tight text-vermillion">10</span>
        <span class="block mt-1 text-xs text-paper/40 uppercase tracking-widest">Topics she knows cold</span>
      </div>
      <div class="reveal text-center">
        <span class="block text-3xl sm:text-4xl font-extrabold tracking-tight text-vermillion">7</span>
        <span class="block mt-1 text-xs text-paper/40 uppercase tracking-widest">Things she catches automatically</span>
      </div>
      <div class="reveal text-center">
        <span class="block text-3xl sm:text-4xl font-extrabold tracking-tight text-vermillion">0</span>
        <span class="block mt-1 text-xs text-paper/40 uppercase tracking-widest">Setup required</span>
      </div>
    </div>
  </section>

  <!-- ===================== TERMINAL DEMO ===================== -->
  <section class="py-28 sm:py-36">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid lg:grid-cols-[0.4fr_0.6fr] gap-16 items-center">
        <div>
          <p class="reveal font-mono text-xs text-vermillion tracking-widest uppercase mb-4">Automatic protection</p>
          <h2 class="reveal text-3xl sm:text-4xl font-bold leading-tight tracking-tight">
            You didn't know<br />this was dangerous.<br />
            <span class="text-vermillion">She did.</span>
          </h2>
          <p class="reveal mt-5 text-paper/40 leading-relaxed">
            You asked Claude to write the database config. Claude put your AWS key right in the code. Claudia stopped it before it shipped — and showed you the safe way to do it.
          </p>
        </div>

        <!-- Terminal -->
        <div class="reveal">
          <div class="rounded-xl overflow-hidden border border-white/[0.08] shadow-2xl shadow-black/40">
            <div class="bg-[#1a1a1e] px-4 py-3 flex items-center gap-2">
              <span class="w-2.5 h-2.5 rounded-full bg-[#ff5f57]"></span>
              <span class="w-2.5 h-2.5 rounded-full bg-[#febc2e]"></span>
              <span class="w-2.5 h-2.5 rounded-full bg-[#28c840]"></span>
              <span class="ml-3 text-[11px] text-paper/20 font-mono">claude</span>
            </div>
            <div class="bg-[#141417] px-5 py-5 font-mono text-[13px] leading-[1.8] min-h-[260px]">
              <div id="terminal-output"></div>
              <span id="terminal-cursor" class="cursor"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== ASK HER ANYTHING ===================== -->
  <section class="py-28 sm:py-36 border-t border-white/[0.06]">
    <div class="max-w-7xl mx-auto px-6">
      <div class="max-w-2xl">
        <p class="reveal font-mono text-xs text-vermillion tracking-widest uppercase mb-4">Ask her anything</p>
        <h2 class="reveal text-4xl sm:text-5xl font-bold leading-[1.05] tracking-tight">
          You don't need to<br />know the answer.<br />
          <span class="text-paper/30">Just the question.</span>
        </h2>
        <p class="reveal mt-5 text-paper/40 leading-relaxed max-w-lg">
          Not sure which database to use? Don't know if you need WebSockets or just polling? Wondering why your app is slow? Ask Claudia. She gives you the answer first, then explains why — so you actually learn.
        </p>
      </div>

      <div class="mt-16 grid sm:grid-cols-2 lg:grid-cols-3 gap-px bg-white/[0.06] rounded-xl overflow-hidden stagger">
        {[
          { q: "Where should I store my data?", topic: "Databases", detail: "Postgres, Mongo, Redis, Pinecone — she'll tell you which one and why." },
          { q: "How do I add login to my app?", topic: "Security", detail: "Auth0 vs rolling your own, sessions vs JWT, OAuth flows explained." },
          { q: "Should I use AWS or Vercel?", topic: "Infrastructure", detail: "Where to host, when serverless makes sense, how to not get a surprise bill." },
          { q: "React or Svelte for this?", topic: "Frontend", detail: "Framework picking, SSR vs SPA, state management without the headache." },
          { q: "REST or GraphQL?", topic: "API Design", detail: "Which API style, how to handle pagination, when you need real-time." },
          { q: "What should I even test?", topic: "Testing", detail: "What's worth testing, what's a waste of time, which testing tools to use." },
          { q: "Why is my app so slow?", topic: "Performance", detail: "Where to look first, common bottlenecks, how to measure before you guess." },
          { q: "How do I deploy this?", topic: "DevOps", detail: "CI/CD from scratch, GitHub Actions patterns, monitoring that matters." },
          { q: "How should I structure this data?", topic: "Data Modeling", detail: "Schema design, migrations without downtime, indexes that actually help." },
        ].map((d) => (
          <div class="reveal bg-void p-7 group">
            <p class="text-sm font-medium text-paper/80 group-hover:text-vermillion transition-colors">"{d.q}"</p>
            <p class="mt-3 text-xs text-paper/30 leading-relaxed">{d.detail}</p>
            <p class="mt-3 text-[10px] font-mono text-paper/15 uppercase tracking-widest">{d.topic}</p>
          </div>
        ))}
        <div class="reveal bg-void p-7 group">
          <p class="text-sm font-medium text-paper/80 group-hover:text-vermillion transition-colors">"How do I ask Claude for what I actually want?"</p>
          <p class="mt-3 text-xs text-paper/30 leading-relaxed">Claudia detects vague prompts and rewrites them into instructions that get results.</p>
          <p class="mt-3 text-[10px] font-mono text-paper/15 uppercase tracking-widest">Prompt Coaching</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== CHARACTER BREAK — ARMS CROSSED ===================== -->
  <section class="relative overflow-hidden">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid lg:grid-cols-[0.5fr_0.5fr] gap-16 items-center">
        <div class="reveal relative rounded-2xl overflow-hidden">
          <img
            src="/assets/logo-arms-crossed.jpeg"
            alt="Claudia — arms crossed"
            class="w-full h-auto parallax-img"
            loading="lazy"
          />
          <div class="absolute inset-0 bg-gradient-to-r from-transparent to-void/40"></div>
        </div>
        <div>
          <p class="reveal font-mono text-xs text-vermillion tracking-widest uppercase mb-4">Runs in the background</p>
          <h2 class="reveal text-3xl sm:text-4xl font-bold leading-tight tracking-tight">
            She's watching<br />every file you write
          </h2>
          <p class="reveal mt-5 text-paper/40 leading-relaxed">
            You don't have to remember to check for security issues, bad patterns, or broken dependencies. Claudia checks every time Claude writes a file. If something's wrong, she tells you what and why.
          </p>

          <div class="reveal mt-10 space-y-3 stagger">
            {[
              { name: "Leaked secrets", badge: "Stops it", color: "bg-[#ff5f57]/20 text-[#ff5f57]", desc: "API keys, passwords, and tokens that should never be in code" },
              { name: "Broken git", badge: "Stops it", color: "bg-[#ff5f57]/20 text-[#ff5f57]", desc: "Writing to .env, leaving merge conflict markers" },
              { name: "Bad code patterns", badge: "Warns you", color: "bg-[#febc2e]/15 text-[#febc2e]", desc: "eval(), empty catch blocks, console.log in production" },
              { name: "Sketchy dependencies", badge: "Warns you", color: "bg-[#febc2e]/15 text-[#febc2e]", desc: "Deprecated, hacked, or pointlessly small packages" },
              { name: "Docker mistakes", badge: "Warns you", color: "bg-[#febc2e]/15 text-[#febc2e]", desc: "Running as root, using :latest, missing optimizations" },
              { name: "Accessibility gaps", badge: "Warns you", color: "bg-[#febc2e]/15 text-[#febc2e]", desc: "Images without alt text, buttons without labels" },
              { name: "License conflicts", badge: "Warns you", color: "bg-[#febc2e]/15 text-[#febc2e]", desc: "GPL code sneaking into your MIT project" },
            ].map((h) => (
              <div class="reveal flex items-start gap-3 py-2">
                <span class={`shrink-0 mt-0.5 text-[10px] font-mono font-medium px-2 py-0.5 rounded-full ${h.color}`}>{h.badge}</span>
                <div>
                  <span class="text-sm font-medium text-paper/80">{h.name}</span>
                  <span class="text-sm text-paper/30 ml-2">{h.desc}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== PROMPT COACHING ===================== -->
  <section class="py-28 sm:py-36">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid lg:grid-cols-[0.5fr_0.5fr] gap-16 items-center">
        <div class="order-2 lg:order-1">
          <p class="reveal font-mono text-xs text-vermillion tracking-widest uppercase mb-4">Better prompts = better code</p>
          <h2 class="reveal text-3xl sm:text-4xl font-bold leading-tight tracking-tight">
            The difference between<br />"fix the auth" and<br />
            <span class="text-vermillion">getting what you want</span>
          </h2>
          <p class="reveal mt-5 text-paper/40 leading-relaxed">
            Most vibe coders leave 80% of Claude's power on the table because they don't know how to ask. Claudia notices when your prompt is too vague and shows you how to rewrite it.
          </p>

          <div class="reveal mt-8 space-y-4">
            <div class="border border-white/[0.06] rounded-lg p-4">
              <p class="text-[11px] font-mono text-paper/30 uppercase tracking-wider mb-2">What you typed</p>
              <p class="text-sm text-paper/50 line-through decoration-vermillion/40">"Fix the auth"</p>
            </div>
            <div class="border border-vermillion/20 bg-vermillion/[0.03] rounded-lg p-4">
              <p class="text-[11px] font-mono text-vermillion/60 uppercase tracking-wider mb-2">What Claudia suggests</p>
              <p class="text-sm text-paper/70">"Refactor the auth middleware to use async/await, add error handling for expired tokens, and return 401 responses with JSON error codes."</p>
            </div>
          </div>
        </div>

        <div class="reveal order-1 lg:order-2 relative rounded-2xl overflow-hidden">
          <img
            src="/assets/thinking-intense.jpeg"
            alt="Claudia thinking"
            class="w-full h-auto parallax-img"
            loading="lazy"
          />
          <div class="absolute inset-0 bg-gradient-to-l from-transparent to-void/30"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===================== INSTALL CTA ===================== -->
  <section class="py-28 sm:py-36 border-t border-white/[0.06]">
    <div class="max-w-7xl mx-auto px-6">
      <div class="reveal max-w-xl mx-auto text-center">
        <h2 class="text-4xl sm:text-5xl font-extrabold tracking-[-0.03em]">
          Ship with confidence
        </h2>
        <p class="mt-4 text-paper/40 text-lg font-light">One install. She handles the rest.</p>

        <div class="mt-10 space-y-2 text-left max-w-sm mx-auto font-mono text-sm">
          <div class="bg-white/[0.03] border border-white/[0.06] rounded-lg px-4 py-3 text-paper/60">
            <span class="text-vermillion mr-2">$</span>npm i -g claudia-mentor
          </div>
          <div class="bg-white/[0.03] border border-white/[0.06] rounded-lg px-4 py-3 text-paper/60">
            <span class="text-vermillion mr-2">$</span>cd your-project && claude
          </div>
          <div class="bg-white/[0.03] border border-white/[0.06] rounded-lg px-4 py-3 text-paper/40 italic">
            <span class="text-[#28c840] mr-2">✓</span>Claudia activates automatically
          </div>
        </div>

        <p class="mt-6 text-xs text-paper/25">Free, open source, MIT licensed. Works with any Claude Code project.</p>

        <div class="mt-8 flex items-center justify-center gap-4">
          <a
            href="https://github.com/reganomalley/claudia"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 bg-vermillion hover:bg-vermillion/90 text-paper text-sm font-medium px-6 py-2.5 rounded-lg transition-colors"
          >
            View on GitHub
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </section>

</Layout>

<script>
  // Copy button
  const btn = document.getElementById("copy-btn");
  const cmd = document.getElementById("install-cmd");
  const copyIcon = document.getElementById("copy-icon");
  const checkIcon = document.getElementById("check-icon");

  btn?.addEventListener("click", async () => {
    const text = cmd?.textContent?.trim();
    if (!text) return;
    await navigator.clipboard.writeText(text);
    copyIcon?.classList.add("hidden");
    checkIcon?.classList.remove("hidden");
    setTimeout(() => {
      copyIcon?.classList.remove("hidden");
      checkIcon?.classList.add("hidden");
    }, 2000);
  });

  // Terminal typing animation
  const lines = [
    { text: "$ claude", cls: "text-[#28c840]", delay: 600 },
    { text: "> Hook up the database with my AWS credentials", cls: "text-paper/50", delay: 1200 },
    { text: "", cls: "", delay: 400 },
    { text: "", cls: "", html: '<span class="text-paper/40">claudia</span> <span class="text-[#ff5f57] font-semibold">blocked</span> <span class="text-[#febc2e]">Hardcoded secret detected</span>', delay: 800 },
    { text: "", cls: "", delay: 200 },
    { text: "  Pattern: AWS access key (AKIA...)", cls: "text-paper/40", delay: 300 },
    { text: "  File:    src/config/database.ts", cls: "text-paper/40", delay: 300 },
    { text: "", cls: "", delay: 400 },
    { text: "", cls: "", html: '  <span class="text-[#28c840] font-semibold">Fix:</span> <span class="text-paper/50">Use environment variables instead.</span>', delay: 600 },
    { text: "  Your secret would have been visible to anyone who sees this code.", cls: "text-paper/30", delay: 400 },
    { text: "", cls: "", delay: 300 },
    { text: '  export const db = createPool(process.env.DATABASE_URL)', cls: "text-[#28c840]/80 bg-white/[0.03] inline-block px-2 rounded", delay: 0 },
  ];

  const output = document.getElementById("terminal-output");
  const cursor = document.getElementById("terminal-cursor");
  let started = false;

  function typeTerminal() {
    if (started) return;
    started = true;
    let totalDelay = 0;

    lines.forEach((line) => {
      totalDelay += line.delay;
      setTimeout(() => {
        const el = document.createElement("div");
        if (line.html) {
          el.innerHTML = line.html;
        } else if (line.text) {
          el.className = line.cls;
          el.textContent = line.text;
        } else {
          el.innerHTML = "&nbsp;";
        }
        output?.insertBefore(el, cursor);
      }, totalDelay);
    });
  }

  const terminalSection = output?.closest("section");
  if (terminalSection) {
    const tObs = new IntersectionObserver(
      (entries) => {
        if (entries[0].isIntersecting) {
          setTimeout(typeTerminal, 500);
          tObs.disconnect();
        }
      },
      { threshold: 0.3 }
    );
    tObs.observe(terminalSection);
  }
</script>
